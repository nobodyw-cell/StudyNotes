计划就是一天看一章


# 1. 初识MySQL

## 1.1 MySQL的客户端/服务器架构

运行MySQL服务器的进程被称为MySQL数据库实例,简称数据库实例,进程名称默认为mysqld,客户端名称为mysql

 ## 1.2 客户端与服务器连接过程

 1. TCP/IP
    1. MySQL服务器启动时会默认申请3306端口号,在此等待客户端进程连接,如果客户端与服务器并不在同一台机子上就需要通过-h指定ip
 2. 命名管道和共享内存(win用户)
    1. 命名管道
       1. server端 + --enable-name-pipe 
       2. client端  + -pipe 或 --protocol=pipe
    2. 共享内存
       1. server端 + --shared-memory
       2. 或client端 + --protocol=memory
 3. Unix域套接字文件

## 1.3 服务器处理客户端请求
大致需要经历是三个部分
1. 连接管理
   1. 采用类似与线程池这样方式去管理向客户端服务的线程
   2. 可以限制同时连接到服务器的客户端的数量,就是限制线程
2. 解析与优化(连接之后,对发来的语句进行解析和优化)
   1. 查询缓存
      1. 但是两个查询请求在字符上的任何不同(空格注释大小写)都会导致缓存不命中
      2. 查询缓存在不同客户端之间可以共享
      3. 如果查询请求包含某些系统函数,用户自定义变量或者函数,一些系统表那么这个请求不被缓存
      4. 缓存失效
         1. 该表的结构或者数据被修改那么该表的所有高速缓存被删除
      5. 维护这段缓存也会带来开销从MySQL5.7.20时不推荐查询缓存,并在MySQL 8.0中删除
   2. 语法解析
      1. 如果缓存未命中就要进行语法解析
   3. 查询优化
      1. 语法解析后服务器获得了需要的信息,就可以开始查询做优化
3. 存储引擎
   1. 截止到服务器程序完成了查询优化为止,还没有真正的去访问真实的数据表,
   2. 所有对数据的存储和提取操作都封装到了一个叫存储引擎(表处理器)的模块里
   3. 为了管理方便,把连接管理,查询缓存,语法解析,查询优化这些并不设计真实数据存储的功能划分为MySQL server的功能吧真实的存取数据的功能划分为存储引擎的功能,存储引擎API向上边的MySQLserver层提供同意的调用接口
## 1.4 设置表的存储引擎
1. 创建表的时候指定存储引擎
   1. ENGINE=InnoDB
2. 修改表的存储引擎
   1. AlTER TABLE 表名 ENGINE = ;